# -*- coding: utf8 -*-
from scrapy.spider import BaseSpider
from scrapy.selector import Selector, XmlXPathSelector
import re
from scrapy import Request
import urllib
import datetime
from vegi.items import VegiItem
import os

class VegiSpider(BaseSpider):
    name = "vegi"
    allowed_domains = ["earthexplorer.usgs.gov"]
    
    #N = 10
    #base = datetime.datetime(2016, 3, 26)
    #date_list = [ ( base - datetime.timedelta(days=x*5), base - datetime.timedelta(days=x*5) - datetime.timedelta(days=10) ) for x in range(0, N) ]
    #ids = map(lambda x: x[0].strftime("%Y%m%d") + x[1].strftime("%Y%m%d"), date_list)
    #urls = map(lambda x: "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT{0}.jpg".format(x), ids) + map(lambda x: "http://earthexplorer.usgs.gov/metadata/fgdc/4700/EMAFT{0}/".format(x), ids)
    #start_urls = ["http://earthexplorer.usgs.gov"]
    
    start_urls = ["http://earthexplorer.usgs.gov"]
    
    urls = [
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2012/EMAFT2012122620130105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013010120130110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013010620130115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013011120130120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013011620130125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013012120130131.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013012620130205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013020120130210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013020620130215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013021120130220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013021620130225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013022120130228.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013022620130305.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013030120130310.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013030620130315.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013031120130320.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013031620130325.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013032120130331.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013032620130405.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013040120130410.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013040620130415.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013041120130420.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013041620130425.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013042120130430.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013042620130505.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013050120130510.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013050620130515.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013051120130520.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013051620130525.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013052120130531.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013052620130605.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013060120130610.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013060620130615.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013061120130620.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013061620130625.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013062120130630.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013062620130705.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013070120130710.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013070620130715.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013071120130720.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013071620130725.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013072120130731.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013072620130805.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013080120130810.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013080620130815.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013081120130820.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013081620130825.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013082120130831.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013082620130905.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013090120130910.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013090620130915.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013091120130920.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013091620130925.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013092120130930.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013092620131005.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013100120131010.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013100620131015.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013101120131020.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013101620131025.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013102120131031.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013102620131105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013110120131110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013110620131115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013111120131120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013111620131125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013112120131130.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013112620131205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013120120131210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013120620131215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013121120131220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013121620131225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013122120131231.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2013/EMAFT2013122620140105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014010120140110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014010620140115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014011120140120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014011620140125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014012120140131.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014012620140205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014020120140210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014020620140215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014021120140220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014021620140225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014022120140228.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014022620140305.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014030120140310.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014030620140315.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014031120140320.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014031620140325.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014032120140331.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014032620140405.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014040120140410.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014040620140415.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014041120140420.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014041620140425.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014042120140430.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014042620140505.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014050120140510.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014050620140515.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014051120140520.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014051620140525.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014052120140531.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014052620140605.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014060120140610.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014060620140615.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014061120140620.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014061620140625.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014062120140630.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014062620140705.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014070120140710.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014070620140715.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014071120140720.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014071620140725.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014072120140731.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014072620140805.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014080120140810.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014080620140815.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014081120140820.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014081620140825.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014082120140831.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014082620140905.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014090120140910.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014090620140915.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014091120140920.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014091620140925.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014092120140930.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014092620141005.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014100120141010.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014100620141015.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014101120141020.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014101620141025.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014102120141031.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014102620141105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014110120141110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014110620141115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014111120141120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014111620141125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014112120141130.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014112620141205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014120120141210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014120620141215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014121120141220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014121620141225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014122120141231.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2014/EMAFT2014122620150105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015010120150110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015010620150115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015011120150120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015011620150125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015012120150131.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015012620150205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015020120150210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015020620150215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015021120150220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015021620150225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015022120150228.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015022620150305.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015030120150310.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015030620150315.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015031120150320.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015031620150325.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015032120150331.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015032620150405.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015040120150410.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015040620150415.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015041120150420.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015041620150425.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015042120150430.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015042620150505.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015050120150510.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015050620150515.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015051120150520.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015051620150525.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015052120150531.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015052620150605.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015060120150610.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015060620150615.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015061120150620.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015061620150625.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015062120150630.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015062620150705.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015070120150710.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015070620150715.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015071120150720.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015071620150725.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015072620150805.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015080120150810.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015080620150815.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015081120150820.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015081620150825.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015082120150831.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015082620150905.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015102120151031.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015102620151105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015110120151110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015110620151115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015111120151120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015111620151125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015112120151130.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015112620151205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015120120151210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015120620151215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015121120151220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015121620151225.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015122120151231.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2015/EMAFT2015122620160105.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016010120160110.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016010620160115.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016011120160120.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016011620160125.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016012120160131.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016012620160205.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016020120160210.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016020620160215.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016021120160220.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016030120160310.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016030620160315.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016031120160320.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016031620160325.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016032120160331.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016032620160405.jpg",
        "http://earthexplorer.usgs.gov/browse/emodis/AF/2016/EMAFT2016040120160410.jpg"
    ]
        
    FILES_STORE = "D:/Workspace/NASA/data"
    
    def save_image(self, response):
        path = os.path.join(self.FILES_STORE, re.match("^.*(EMAFT\d{16}\.jpg)$", response.url).group(1)) 
        with open(path, "wb") as f:
            f.write(response.body)

    def parse(self, response):
        for url in self.urls:
            yield Request(url, callback=self.save_image)
   
   